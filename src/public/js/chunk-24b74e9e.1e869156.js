(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24b74e9e"],{"036d":function(t,e,a){t.exports=a.p+"img/excel.a6a7f740.png"},1139:function(t,e,a){t.exports=a.p+"img/ppt.5f8f3823.png"},"11ac":function(t,e,a){t.exports=a.p+"img/file.ade0d285.png"},"4a49":function(t,e,a){t.exports=a.p+"img/pdf.c1ae6d25.png"},"55a9":function(t,e,a){},6034:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-list-container",attrs:{id:"data-list-list-view"}},[a("data-view-sidebar",{attrs:{isSidebarActive:t.addNewDataSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleDataSidebar}}),a("vs-table",{ref:"table",attrs:{sst:!0,multiple:"","max-items":t.itemsPerPage,search:"",data:t.files},on:{search:t.handleSearch},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return[a("tbody",t._l(s,(function(e,s){return a("vs-tr",{key:s,attrs:{data:e}},[a("vs-td",[a("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(t.getOverallIndex(s)))])]),a("vs-td",[a("p",{staticClass:"product-name font-medium truncate"},[t._v(t._s(e.name))])]),a("vs-td",[a("p",{staticClass:"product-category"},[t._v(t._s(e.category))])]),a("vs-td",[a("p",{staticClass:"product-price"},[t._v(t._s(t._f("moment")(e.createdAt,"ddd, MMMM Do YYYY")))])]),a("vs-td",{staticClass:"whitespace-no-wrap"},[a("feather-icon",{attrs:{icon:"EditIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(a){return a.stopPropagation(),t.editData(e)}}}),a("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(a){return a.stopPropagation(),t.deleteData(e.fid)}}}),a("a",{attrs:{href:e.file_url}},[a("feather-icon",{staticClass:"ml-2",attrs:{icon:"EyeIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"}})],1)],1)],1)})),1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center data-list-btn-container"},[a("vs-dropdown",{staticClass:"dd-actions cursor-pointer mr-4 mb-4",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 shadow-drop rounded-lg d-theme-dark-bg cursor-pointer flex items-center justify-center text-lg font-medium w-32 w-full"},[a("span",{staticClass:"mr-2"},[t._v("Actions")]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:t.deleteMultiple}},[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"TrashIcon",svgClasses:"h-4 w-4"}}),a("span",[t._v("Delete")])],1)]),a("vs-dropdown-item",[a("span",{staticClass:"flex items-center"},[a("feather-icon",{staticClass:"mr-2",attrs:{icon:"FileIcon",svgClasses:"h-4 w-4"}}),a("span",[t._v("Print")])],1)])],1)],1),a("div",{staticClass:"btn-add-new p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-center text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:t.addNewData}},[a("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2 text-base text-primary"},[t._v("Add New File")])],1),a("p",{staticClass:"mb-2"},[t._v("Total: "),a("span",{staticStyle:{background:"#0080002b",padding:"3px"}},[t._v(t._s(t.queriedItems?t.queriedItems:0))])])],1),a("vs-dropdown",{staticClass:"cursor-pointer mb-4 mr-4 items-per-page-handler",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.itemsPerPage-(t.itemsPerPage-1))+" - "+t._s(t.files.length-t.currentPage*t.itemsPerPage>0?t.currentPage*t.itemsPerPage:t.files.length)+" of "+t._s(t.queriedItems))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=10}}},[a("span",[t._v("4")])]),a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=20}}},[a("span",[t._v("10")])]),a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=30}}},[a("span",[t._v("15")])]),a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=40}}},[a("span",[t._v("20")])])],1)],1)],1),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"s/n"}},[t._v("S/N")]),a("vs-th",{attrs:{"sort-key":"name"}},[t._v("Name")]),a("vs-th",{attrs:{"sort-key":"category"}},[t._v("Category")]),a("vs-th",{attrs:{"sort-key":"createdAt"}},[t._v("Date Uploaded")]),a("vs-th",[t._v("Action")])],1)],2),a("div",[a("vs-pagination",{staticClass:"float-right",attrs:{total:t.pages,max:6},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[s("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[s("h4",[t._v(t._s(0===Object.entries(this.data).length?"ADD NEW":"UPDATE")+" ITEM")]),s("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),s("vs-divider",{staticClass:"mb-0"}),s(t.scrollbarTag,{key:t.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[s("div",{staticClass:"p-6"},[t.dataImg?[s("div",{staticClass:"img-container w-64 mx-auto flex items-center justify-center"},["png"==t.mime||"jpg"==t.mime||"gif"==t.mime?s("img",{staticClass:"responsive",attrs:{src:t.dataImg,alt:"img"}}):t._e(),"pdf"==t.mime?s("img",{staticClass:"responsive",attrs:{src:a("4a49"),alt:"img"}}):t._e(),"csv"==t.mime||"xls"==t.mime||"xlsx"==t.mime?s("img",{staticClass:"responsive",attrs:{src:a("036d"),alt:"img"}}):t._e(),"ppt"==t.mime||"pptx"==t.mime?s("img",{staticClass:"responsive",attrs:{src:a("1139"),alt:"img"}}):t._e(),"doc"==t.mime||"docx"==t.mime?s("img",{staticClass:"responsive",attrs:{src:a("11ac"),alt:"img"}}):t._e(),"zip"==t.mime?s("img",{staticClass:"responsive",attrs:{src:a("79a3"),alt:"img"}}):t._e(),""==t.mime?s("img",{staticClass:"responsive",attrs:{src:a("11ac"),alt:"img"}}):t._e()]),s("h5",{staticClass:"items-center justify-center text-center text-dark"},[t._v(t._s(t.fileName))]),s("div",{staticClass:"modify-img flex justify-between mt-5"},[s("input",{ref:"updateImgInput",staticClass:"hidden",attrs:{type:"file"},on:{change:t.updateCurrImg}}),s("vs-button",{staticClass:"mr-4",attrs:{type:"flat"},on:{click:function(e){return t.$refs.updateImgInput.click()}}},[t._v("Update File")]),s("vs-button",{attrs:{type:"flat",color:"#999"},on:{click:function(e){t.dataImg=null}}},[t._v("Remove File")])],1)]:t._e(),s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full mb-5",attrs:{label:"Name",name:"name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("name")))]),s("small",{staticClass:"ml-1 mt-5 w-full"},[t._v("Category")]),s("v-select",{attrs:{name:"category",label:"Category",closeOnSelect:!0,options:["Meeting Report","Tajnid","Financial Report","Tarbiyya","Taleem","Other"],dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),s("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("category")))]),t.dataImg?t._e():s("div",{staticClass:"upload-img mt-5"},[s("input",{ref:"uploadImgInput",staticClass:"hidden",attrs:{type:"file"},on:{change:t.updateCurrImg}}),s("vs-button",{on:{click:function(e){return t.$refs.uploadImgInput.click()}}},[t._v("Upload File")])],1)],2)]),s("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[s("vs-button",{staticClass:"mr-6",attrs:{disabled:!t.isFormValid},on:{click:t.submitData}},[t._v("Submit")]),s("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(e){t.isSidebarActiveLocal=!1}}},[t._v("Cancel")])],1)],1)},n=[],c=(a("7f7f"),a("ac6a"),a("ffc1"),a("9d63")),o=a.n(c),l=a("4a7a"),d=a.n(l),m={pdf:"application/pdf",png:"image/png",jpg:"image/jpeg",gif:"image/gif",csv:"text/csv",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",doc:"application/msword",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/x-zip-compressed"},u=m,p={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},components:{VuePerfectScrollbar:o.a,vSelect:d.a},data:function(){return{mime:"",fileName:"",fid:null,file:"",category:"",name:"",dataImg:"",settings:{maxScrollbarLength:60,wheelSpeed:.6}}},watch:{isSidebarActive:function(t){if(t)if(0===Object.entries(this.data).length)this.initValues(),this.$validator.reset();else{var e=this.data,a=e.name,s=e.fid,i=e.file_url,r=e.category;this.fid=s,this.category=r,this.dataImg=i,this.name=a,this.initValues()}}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}},isFormValid:function(){return!this.errors.any()&&this.name&&this.category},scrollbarTag:function(){return this.$store.getters.scrollbarTag}},methods:{handleError:function(t){this.$vs.loading.close(),this.$vs.notify({title:"Error",text:t.response.data,color:"danger",position:"top-center",iconPack:"feather",icon:"icon-alert-circle"})},handleSuccess:function(t){this.$vs.loading.close(),this.$vs.notify({title:"Success",text:t.data.message,color:"primary",position:"top-center",iconPack:"feather",icon:"icon-alert-circle"})},initValues:function(){this.data.id||(this.fid=null,this.name="",this.category=null,this.file=null)},submitData:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){var a=new FormData;a.append("files",t.file),a.append("name",t.name),a.append("category",t.category),t.$vs.loading(),null!==t.fid&&t.fid>=0?t.$store.dispatch("file/updateFile",a).then((function(e){t.handleSuccess(e),t.$emit("closeSidebar"),t.initValues()})).catch((function(e){t.handleError(e)})):t.$store.dispatch("file/uploadFile",a).then((function(e){t.handleSuccess(e),t.$emit("closeSidebar"),t.initValues()})).catch((function(e){t.handleError(e)}))}}))},updateCurrImg:function(t){var e=this;if(t.target.files&&t.target.files[0]){var a=new FileReader;for(var s in a.onload=function(a){e.dataImg=a.target.result,e.fileName=t.target.files[0].name,e.file=t.target.files[0]},a.readAsDataURL(t.target.files[0]),u)u[s]==t.target.files[0].type&&(this.mime=s)}}}},f=p,g=(a("675e"),a("2877")),h=Object(g["a"])(f,r,n,!1,null,"bdfec52c",null),v=h.exports,b={components:{DataViewSidebar:v},data:function(){return{selected:[],itemsPerPage:10,isMounted:!1,addNewDataSidebar:!1,sidebarData:{},currentPage:1}},computed:{files:function(){return this.$store.state.file.files},queriedItems:function(){return this.$store.state.file.total},pages:function(){return this.$store.state.file.pages}},methods:{handleSuccess:function(t){this.$vs.loading.close(),this.$vs.notify({title:"Success",text:t.data.message,color:"primary",position:"top-center",iconPack:"feather",icon:"icon-alert-circle"})},handleError:function(t){this.$vs.notify({title:"Error",text:t.response.data,color:"danger",position:"top-center",iconPack:"feather",icon:"icon-alert-circle"})},addNewData:function(){this.sidebarData={},this.toggleDataSidebar(!0)},deleteData:function(t){var e=this;this.$store.dispatch("file/removeFile",t).then((function(t){return e.handleSuccess(t)})).catch((function(t){e.handleError(t)}))},deleteMultiple:function(){var t=this;if(!this.selected.length)return this.$vs.notify({title:"Error",text:"Please select files to delete!",color:"danger",position:"top-center",iconPack:"feather",icon:"icon-alert-circle"});this.$store.dispatch("file/removeFiles",this.selected).catch((function(e){t.handleError(e)}))},editData:function(t){this.sidebarData=t,this.toggleDataSidebar(!0)},handleSearch:function(t){this.currentPage=1,this.$store.dispatch("member/fetchFiles",{currentPage:this.currentPage,itemsPerPage:this.itemsPerPage,search:t})},handlePageChange:function(){this.$store.dispatch("member/fetchFiles",{currentPage:this.currentPage,itemsPerPage:this.itemsPerPage})},getOverallIndex:function(t){return this.currentPage*this.itemsPerPage-this.itemsPerPage+t+1},toggleDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDataSidebar=t}},created:function(){this.$store.dispatch("file/fetchFiles",{currentPage:this.currentPage,itemsPerPage:this.itemsPerPage})},mounted:function(){this.isMounted=!0},watch:{currentPage:function(){this.handlePageChange()}}},x=b,C=(a("8a7e"),Object(g["a"])(x,s,i,!1,null,null,null));e["default"]=C.exports},"675e":function(t,e,a){"use strict";var s=a("55a9"),i=a.n(s);i.a},"79a3":function(t,e,a){t.exports=a.p+"img/zip.7a9ed3d3.png"},"8a7e":function(t,e,a){"use strict";var s=a("b2ae"),i=a.n(s);i.a},b2ae:function(t,e,a){}}]);
//# sourceMappingURL=chunk-24b74e9e.1e869156.js.map